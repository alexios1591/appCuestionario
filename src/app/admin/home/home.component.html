<div class="border py-2 px-4 rounded-lg mb-4">
  <h2 class="text-black font-sans text-2xl">Lista de encuestados</h2>
  <span class="text-sm font-sans">Encuestados</span>
</div>

<div class="border py-2 px-4 rounded-lg flex flex-col gap-4">
  <div class="flex justify-between mb-2 items-center">
    <h2 class="text-xl">Lista de encuestados</h2>
    <input
      type="search"
      class="outline-none border border-blue-300 py-2 px-4 rounded-lg"
      placeholder="Buscar por dni"
      [(ngModel)]="dniSearch"
      (input)="filterClientes()"
    />
    <button
      class="text-white py-2 px-4 bg-purple-500 hover:bg-purlpe-700 transition-colors rounded-lg gap-4"
    >
      <fa-icon [icon]="faDownload" /> Exportar
    </button>
  </div>
  <table class="min-w-full border-collapse table-auto">
    <thead>
      <tr class="bg-gray-100 text-gray-700">
        <th class="border-b py-3 px-4 text-left text-sm font-medium">Nombre</th>
        <th class="border-b py-3 px-4 text-left text-sm font-medium"> Apellido</th>
        <th class="border-b py-3 px-4 text-left text-sm font-medium"> Localidad</th>
        <th class="border-b py-3 px-4 text-left text-sm font-medium"> DNI</th>
        <th class="border-b py-3 px-4 text-left text-sm font-medium"> Fecha nacimiento</th>
        <th class="border-b py-3 px-4 text-left text-sm font-medium"> Celular</th>
        <th class="border-b py-3 px-4 text-left text-sm font-medium"> Registro</th>
        <th class="border-b py-3 px-4 text-left text-sm font-medium"> Ver historial</th>
      </tr>
    </thead>
    <tbody class="text-gray-700">
      @for (item of filteredClientes; track $index) {
      <tr
        class="odd:bg-white even:bg-gray-50 hover:bg-gray-100 transition-colors duration-200"
      >
        <td class="border-b py-3 px-4">{{ item.NomClie }}</td>
        <td class="border-b py-3 px-4">{{ item.AppClie }}</td>
        <td class="border-b py-3 px-4">{{ item.localidad}}</td>
        <td class="border-b py-3 px-4">{{ item.DniClie }}</td>
        <td class="border-b py-3 px-4">{{ item.FnaClie }}</td>
        <td class="border-b py-3 px-4">{{ item.CelClie }}</td>
        <td class="border-b py-3 px-4">{{ item.RegClie }}</td>

        <td class="border-b py-3 px-4">
          <div class="text-center">
            <button (click)="abrirModal(item)"
              class="bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded-md shadow-sm transition-colors duration-200"
            >Ver historial</button>
          </div>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>
@if (mostrarModal) {
<app-modal [cliente]="clienteSeleccionado" (close)="cerrarModal()"></app-modal>
}
